<div class="col-md-12 mt-auto pb-2">
  <div class="container mt-5 p-2">
    <div class="text-center">
      <h1 class="text-black">PERFIL DE USUARIO</h1>
    </div>
  </div>
</div>
<main class="container sm-12">
  <ng-container *ngIf="usuario">
    <div class="registrer sm-auto">
      <section class="my-form sm-auto">
        <div>
          <p>NOMBRE Y APELLIDO: {{ usuario.nombre }} {{ usuario.apellido }}</p>
          <p>CORREO ELECTRÓNICO	: {{ usuario.email }}</p>
          <p>DIRECCIÓN: {{ usuario.direccion }}</p>
          <p>NOMBRE DE USUARIO: {{ usuario.usuario }}</p>
          <p>TELÉFONO: {{ usuario.telefono }}</p>
        </div>
        <div class="border-top">
          <h2 class="text-center">Actualizar perfil</h2>
          <div class="row">
            <div class="column">
              <form class="container-fluid" [formGroup]="perfilForm" (ngSubmit)="onSubmit(perfilForm.value)">
                <label for="mail">Correo electrónico:</label><br>
                <input class="form-control" type="email" formControlName="mail" id="mail" name="mail" placeholder="Nuevo correo electrónico" value="{{usuario.email}}" required>
                <div *ngIf="mail?.invalid && (mail?.dirty || mail?.touched)" class="text-danger">
                  <div *ngIf="mail?.errors?.['required']">Se requiere un correo electrónico.</div>
                  <div *ngIf="mail?.errors?.['minlength']">El correo electrónico debe tener más de {{constantes.MINIMO_EMAIL_USUARIO}} caracteres.</div>
                  <div *ngIf="mail?.errors?.['pattern']">El formato de correo electrónico no coincide.</div>
                </div>

                <label for="adress">Domicilio:</label><br>
                <input class="form-control" type="text" formControlName="adress" id="adress" placeholder="Nuevo domicilio" value="{{usuario.direccion}}" required>
                <div *ngIf="adress?.invalid && (adress?.dirty || adress?.touched)" class="text-danger">
                  <div *ngIf="adress?.errors?.['required']">Se requiere un domicilio.</div>
                  <div *ngIf="adress?.errors?.['maxlength']">El domicilio debe tener un máximo de {{constantes.MAXIMA_DIRECCION_USUARIO}} caracteres.</div>
                </div>

                <label for="password">Clave:</label><br>
                <input class="form-control" type="password" formControlName="password" id="password" placeholder="Nueva clave (o vacía para mantener la antigua)" value="{{usuario.clave}}">
                <div *ngIf="password?.invalid && (password?.dirty)" class="text-danger">
                  <div *ngIf="password?.errors?.['minlength']">La clave debe tener más de {{constantes.MINIMA_CLAVE_USUARIO}} caracteres.</div>
                  <div *ngIf="password?.errors?.['maxlength']">La clave debe tener un máximo de {{constantes.MAXIMA_CLAVE_USUARIO}} caracteres.</div>
                </div>

                <label for="phone">Teléfono:</label><br>
                <input class="form-control" type="tel" formControlName="phone" id="phone" placeholder="Nuevo teléfono" value="{{usuario.telefono}}" required>
                <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)" class="text-danger">
                  <div *ngIf="phone?.errors?.['required']">Se requiere un número de teléfono.</div>
                  <div *ngIf="phone?.errors?.['minlength']">El teléfono debe tener más de {{constantes.MINIMO_TELEFONO_USUARIO}} caracteres.</div>
                  <div *ngIf="phone?.errors?.['maxlength']">El teléfono debe tener un máximo de {{constantes.MAXIMO_TELEFONO_USUARIO}} caracteres.</div>
                </div>

                <button class="btn" [disabled]="!perfilForm.valid" type="submit">Guardar</button><br>
              </form>
            </div>
          </div>
        </div>
      </section>
    </div>
  </ng-container>
</main>
