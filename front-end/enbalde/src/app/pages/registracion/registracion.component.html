<div class="col-md-12 mt-auto pb-4">
    <div class="container mt-5 p-2">
        <div class="text-center">
            <h1 class="text-black">REGISTRACIÓN</h1>
        </div>
    </div>
</div>

<div class="registrer">
  <section class="seccion-form">

      <form class="form-register" [formGroup]="registrarForm" (ngSubmit)="onSubmit(registrarForm.value)">
          <label for="fname">Nombre:</label><br>
          <input class="form-control" type="text" formControlName="fname" id="fname" placeholder="Ingrese su nombre"><br>
          <div *ngIf="fname?.invalid && (fname?.dirty || fname?.touched)" class="text-danger">

              <div *ngIf="fname?.errors?.['required']">
                  Se requiere un nombre.
              </div>
              <div *ngIf="fname?.errors?.['minlength']">
                  El nombre debe tener más de {{constantes.MINIMO_NOMBRE_USUARIO}} caracteres.
              </div>
              <div *ngIf="fname?.errors?.['maxlength']">
                  El nombre debe tener un máximo de {{constantes.MAXIMO_NOMBRE_USUARIO}} caracteres.
              </div>
          </div>

          <label for="lname">Apellido:</label><br>
          <input class="form-control" type="text" formControlName="lname" id="lname" placeholder="Ingrese su apellido"><br>
          <div *ngIf="lname?.invalid && (lname?.dirty || lname?.touched)" class="text-danger">

              <div *ngIf="lname?.errors?.['required']">
                  Se requiere un apellido.
              </div>
              <div *ngIf="lname?.errors?.['minlength']">
                  El apellido debe tener más de {{constantes.MINIMO_APELLIDO_USUARIO}} caracteres.
              </div>
              <div *ngIf="lname?.errors?.['maxlength']">
                  El apellido debe tener un máximo de {{constantes.MAXIMO_APELLIDO_USUARIO}} caracteres.
              </div>
          </div>

          <label for="mail">Correo electrónico:</label><br>
          <input class="form-control"  type="email" formControlName="mail" id="mail" placeholder="Ingrese su correo electrónico"><br>

          <div *ngIf="mail?.invalid && (mail?.dirty || mail?.touched)" class="text-danger">

              <div *ngIf="mail?.errors?.['required']">
                  Se requiere un correo electrónico.
              </div>
              <div *ngIf="mail?.errors?.['minlength']">
                  El correo electrónico debe tener más de {{constantes.MINIMO_EMAIL_USUARIO}} caracteres.
              </div>
              <div *ngIf="mail?.errors?.['pattern']">
                  El formato de correo electrónico no coincide.
              </div>
          </div>

          <label for="adress">Domicilio:</label><br>
          <input class="form-control"  type="text" formControlName="adress" id="adress" placeholder="Ingrese su domicilio"><br>

          <div *ngIf="adress?.invalid && (adress?.dirty || adress?.touched)" class="text-danger">

              <div *ngIf="adress?.errors?.['required']">
                  Se requiere un domicilio.
              </div>
              <div *ngIf="adress?.errors?.['maxlength']">
                  El domicilio debe tener un máximo de {{constantes.MAXIMA_DIRECCION_USUARIO}} caracteres.
              </div>
          </div>

          <label for="phone">Teléfono:</label><br>
          <input class="form-control"  type="tel" formControlName="phone" id="phone" placeholder="Ingrese su teléfono"><br>

          <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)" class="text-danger">

              <div *ngIf="phone?.errors?.['required']">
                  Se requiere un número de teléfono.
              </div>
              <div *ngIf="phone?.errors?.['minlength']">
                  El teléfono debe tener más de {{constantes.MINIMO_TELEFONO_USUARIO}} caracteres.
              </div>
              <div *ngIf="phone?.errors?.['maxlength']">
                  El teléfono debe tener un máximo de {{constantes.MAXIMO_TELEFONO_USUARIO}} caracteres.
              </div>
          </div>

          <label for="user">Nombre de usuario:</label><br>
          <input class="form-control"  type="text" formControlName="user" id="user" placeholder="Ingrese su usuario"><br>

          <div *ngIf="user?.invalid && (user?.dirty || user?.touched)" class="text-danger">

              <div *ngIf="user?.errors?.['required']">
                  Se requiere un nombre de usuario.
              </div>
              <div *ngIf="user?.errors?.['minlength']">
                  El nombre de usuario debe tener más de {{constantes.MINIMO_USUARIO_USUARIO}} caracteres.
              </div>
              <div *ngIf="user?.errors?.['maxlength']">
                  El nombre de usuario debe tener un máximo de {{constantes.MAXIMO_USUARIO_USUARIO}} caracteres.
              </div>
          </div>

          <label for="password">Contraseña:</label><br>
          <input class="form-control"  type="password" formControlName="password" id="password" placeholder="Ingrese su contraseña"><br>

          <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="text-danger">

              <div *ngIf="password?.errors?.['required']">
                  Se requiere una contraseña.
              </div>
              <div *ngIf="password?.errors?.['minlength']">
                  La contraseña debe tener más de {{constantes.MINIMA_CLAVE_USUARIO}} caracteres.
              </div>
              <div *ngIf="password?.errors?.['maxlength']">
                  La contraseña debe tener un máximo de {{constantes.MAXIMA_CLAVE_USUARIO}} caracteres.
              </div>
          </div>

          <button class="btn" type="submit" [disabled]="!registrarForm.valid">Registrarse</button><br>
          <p><a class="linea" [routerLink]="['/login']">Ya tengo cuenta</a></p>
        </form>
        <ng-container *ngIf="resultado.mensaje != ''">
          <p>{{resultado.mensaje}}</p>
          <ng-container *ngIf="resultado.status == 201">
            <a class="linea" [routerLink]="['/login']">Presione aquí para continuar</a>
          </ng-container>
        </ng-container>
  </section>
</div>
